(()=>{"use strict";var t={426:(t,e,i)=>{i.d(e,{Z:()=>g});var s=i(81),n=i.n(s),h=i(645),r=i.n(h),a=i(667),o=i.n(a),c=new URL(i(857),i.b),d=new URL(i(471),i.b),l=r()(n()),u=o()(c),m=o()(d);l.push([t.id,"* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  background-color: #e2f3e4;\r\n}\r\n\r\nbutton {\r\n  width: 25rem;\r\n  height: 25rem;\r\n\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: 5rem auto;\r\n\r\n  border: none;\r\n  background-color: transparent;\r\n  background-image: url("+u+");\r\n  background-size: cover;\r\n\r\n  transition: transform 1s, background-image 1s;\r\n}\r\n\r\nbutton:hover {\r\n  cursor: pointer;\r\n  background-image: url("+m+");\r\n  transform: scale(1.1);\r\n}",""]);const g=l},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,n,h){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);s&&r[d[0]]||(void 0!==h&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=h),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),e.push(d))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var h={},r=[],a=0;a<t.length;a++){var o=t[a],c=s.base?o[0]+s.base:o[0],d=h[c]||0,l="".concat(c," ").concat(d);h[c]=d+1;var u=i(l),m={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==u)e[u].references++,e[u].updater(m);else{var g=n(m,s);s.byIndex=a,e.splice(a,0,{identifier:l,updater:g,references:1})}r.push(l)}return r}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var h=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<h.length;r++){var a=i(h[r]);e[a].references--}for(var o=s(t,n),c=0;c<h.length;c++){var d=i(h[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}h=o}}},569:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var h=i.sourceMap;h&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(h))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},857:(t,e,i)=>{t.exports=i.p+"f2bbc10e5d0502a3d286.png"},471:(t,e,i)=>{t.exports=i.p+"417b65d8a237ee174d8a.png"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var h=e[s]={id:s,exports:{}};return t[s](h,h.exports,i),h.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.p="./",i.b=document.baseURI||self.location.href,(()=>{const t=function(t){return new Promise(((e,i)=>{setTimeout((()=>{e(t)}),t)}))},e={canvas:document.createElement("canvas"),width:128,height:72,init:async function(){this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=innerWidth+"px",this.canvas.style.height=innerHeight+"px",this.canvas.style.objectFit="contain",this.canvas.style.objectPosition="50% 50%",this.context=this.canvas.getContext("2d"),document.body.insertBefore(this.canvas,document.body.childNodes[0]),this.canvas.requestFullscreen(),await t(50);const e=this.canvas.height,i=this.canvas.width;let s=this.getObjectFitSize(!0,this.canvas.clientWidth,this.canvas.clientHeight,this.canvas.width,this.canvas.height);const n=window.devicePixelRatio||1;this.canvas.width=s.width*n,this.canvas.height=s.height*n;let h=Math.min(this.canvas.clientWidth/i,this.canvas.clientHeight/e);this.context.scale(h*n,h*n)},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},getObjectFitSize:function(t,e,i,s,n){var h=s/n,r=e/i,a=0,o=0;return(t?h>r:h<r)?o=(a=e)/h:a=(o=i)*h,{width:a,height:o,x:(e-a)/2,y:(i-o)/2}}},s=function(t){const e=Object.keys(t);for(let i=0;i<e.length;i++)this[e[i]]=new Image,this[e[i]].src=t[e[i]]},n=function(t,e,i,n,h,r,a){this.type=r,"image"!=r&&"background"!=r||(this.images=new s(i),this.currentImage=this.images[Object.keys(this.images)[0]]),this.width=t,this.height=e,this.initialX=n,this.initialY=h,this.x=n,this.y=h,this.speedX=0,this.speedY=0,this.update=function(){const t=a.canvas.getContext("2d");"image"==r||"background"==r?(t.drawImage(this.currentImage,this.x,this.y,this.width,this.height),"background"==r&&t.drawImage(this.currentImage,this.x+this.width,this.y,this.width,this.height)):(t.fillStyle=i,t.fillRect(this.x,this.y,this.width,this.height))},this.erase=function(){const t=a.canvas.getContext("2d");t.fillStyle="transparent",t.fillRect(this.x,this.y,this.width,this.height)},this.newPos=function(){this.x+=this.speedX,this.y+=this.speedY,"background"==this.type&&this.x==-this.width&&(this.x=0)},this.rotate=function(t){const e=a.context,i=t;e.save(),e.translate(this.x+this.width/2,this.y+this.height/2),e.rotate(i),e.drawImage(this.currentImage,this.width/2*-1,this.height/2*-1,this.width,this.height),e.restore()}},h={keysCode:{up:87,down:83,left:65,right:68,space:74,enter:13},keysPressed:{upPressed:!1,downPressed:!1,leftPressed:!1,rightPressed:!1,spacePressed:!1,enterPressed:0},initEvents:function(){window.addEventListener("keydown",(t=>{this.keyDownHandler(t)})),window.addEventListener("keyup",(t=>{this.keyUpHandler(t)}))},keyDownHandler:function(t){t.keyCode==this.keysCode.enter&&this.keysPressed.enterPressed++,t.keyCode==this.keysCode.space&&(this.keysPressed.spacePressed=!0),t.keyCode==this.keysCode.right?this.keysPressed.rightPressed=!0:t.keyCode==this.keysCode.left&&(this.keysPressed.leftPressed=!0),t.keyCode==this.keysCode.down?this.keysPressed.downPressed=!0:t.keyCode==this.keysCode.up&&(this.keysPressed.upPressed=!0)},keyUpHandler:function(t){this.keysPressed.enterPressed>1&&(this.keysPressed.enterPressed=0),t.keyCode==this.keysCode.space&&(this.keysPressed.spacePressed=!1),t.keyCode==this.keysCode.right?this.keysPressed.rightPressed=!1:t.keyCode==this.keysCode.left&&(this.keysPressed.leftPressed=!1),t.keyCode==this.keysCode.down?this.keysPressed.downPressed=!1:t.keyCode==this.keysCode.up&&(this.keysPressed.upPressed=!1)}};function r(t,e,i,s,n){n=n;let h=i-t,r=s-e,a=Math.sqrt(h*h+r*r),o=Math.atan2(r,h);return{x:t+a*Math.cos(o+n),y:e+a*Math.sin(o+n)}}function a(t){void 0===t.angle&&(t.angle=0);let e=t.x+t.width/2,i=t.y+t.height/2;return t.centerX=e,t.centerY=i,{tl:r(e,i,t.x,t.y,t.angle),tr:r(e,i,t.x+t.width,t.y,t.angle),bl:r(e,i,t.x,t.y+t.height,t.angle),br:r(e,i,t.x+t.width,t.y+t.height,t.angle)}}function o(t,e){this.x=t,this.y=e}function c(t,e){this.vertex=t,this.edge=e}const d=function(t,e,i="simple"){return"simple"==i?function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}(t,e):"complex"==i?function(t,e){return function(t,e){let i=t,s=e,n=a(i),h=a(s),r=[new o(n.tr.x,n.tr.y),new o(n.br.x,n.br.y),new o(n.bl.x,n.bl.y),new o(n.tl.x,n.tl.y)],d=[new o(n.br.x-n.tr.x,n.br.y-n.tr.y),new o(n.bl.x-n.br.x,n.bl.y-n.br.y),new o(n.tl.x-n.bl.x,n.tl.y-n.bl.y),new o(n.tr.x-n.tl.x,n.tr.y-n.tl.y)],l=[new o(h.tr.x,h.tr.y),new o(h.br.x,h.br.y),new o(h.bl.x,h.bl.y),new o(h.tl.x,h.tl.y)],u=[new o(h.br.x-h.tr.x,h.br.y-h.tr.y),new o(h.bl.x-h.br.x,h.bl.y-h.br.y),new o(h.tl.x-h.bl.x,h.tl.y-h.bl.y),new o(h.tr.x-h.tl.x,h.tr.y-h.tl.y)];return!!function(t,e){for(var i=null,s=0,n=[],h=null,r=null,a=null,c=null,d=0;d<t.edge.length;d++)i=new o(-t.edge[d].y,t.edge[d].x),n.push(i);for(d=0;d<e.edge.length;d++)i=new o(-e.edge[d].y,e.edge[d].x),n.push(i);for(d=0;d<n.length;d++){h=null,r=null,a=null,c=null;for(var l=0;l<t.vertex.length;l++)s=t.vertex[l].x*n[d].x+t.vertex[l].y*n[d].y,(null===r||s>r)&&(r=s),(null===h||s<h)&&(h=s);for(l=0;l<e.vertex.length;l++)s=e.vertex[l].x*n[d].x+e.vertex[l].y*n[d].y,(null===c||s>c)&&(c=s),(null===a||s<a)&&(a=s);if(!(h<c&&h>a||a<r&&a>h))return!1}return!0}(new c(r,d),new c(l,u))||(0===i.angle&&0===s.angle?!(i.x>s.x+s.width||i.x+i.width<s.x||i.y>s.y+s.height||i.y+i.height<s.y):void 0)}(t,e)}(t,e):void 0},l=function(t){var e=window.getComputedStyle(t).getPropertyValue("object-position").split(" ");return function(t,e,i,s,n,h){var r=128/72,a=e/i;return function(){return r>a?(this.width=e,this.height=e/r):(this.width=i*r,this.height=i),this.top=(i-this.height)*(h/100),this.left=(e-this.width)*(h/100),this.right=this.width+this.left,this}.call({})}(0,innerWidth,innerHeight,0,0,parseInt(e[0]))},u={touches:[],isTouchDevice:!1,isPressed:!1,test:new n(8,8,"black",64,31,"none",e),c:null,joystick:{out:new n(24,24,{idle:"assets/img/controls/out.png"},2,46,"image",e),in:new n(8,8,{idle:"assets/img/controls/in.png"},10,54,"image",e),shot:new n(16,16,{idle:"assets/img/controls/shot.png"},105,50,"image",e),pause:new n(7,7,{idle:"assets/img/controls/pause.png"},120,1,"image",e)},buttons:{up:new n(24,8,"red",2,46,e),down:new n(24,8,"green",2,62,e),left:new n(8,24,"orange",2,46,e),right:new n(8,24,"yellow",18,46,e)},space:new n(16,16,"red",105,50,e),buttonsPressed:{up:!1,down:!1,left:!1,right:!1,space:!1,enter:0},renderButtons:function(t){this.isTouchDevice&&!t&&(this.joystick.out.update(),this.joystick.in.update(),this.joystick.shot.update(),this.joystick.pause.update())},initEvents:function(){"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?this.isTouchDevice=!0:this.isTouchDevice=!1,this.isTouchDevice&&(window.addEventListener("touchstart",(t=>{this.touchStartHandler(t)})),window.addEventListener("touchmove",(t=>{this.touchMoveHandler(t)})),window.addEventListener("touchend",(t=>{this.touchEndHandler(t)})))},touchStartHandler:function(t){this.c=l(e.canvas),this.testButtons3(t.targetTouches),this.testButtons(t.targetTouches),this.testButtons2(t.targetTouches)},touchMoveHandler:function(t){this.c=l(e.canvas),this.testButtons(t.targetTouches),this.testButtons2(t.targetTouches)},touchEndHandler:function(t){this.c=l(e.canvas),this.testButtons3(t.targetTouches),this.testButtons(t.targetTouches),this.testButtons2(t.targetTouches)},testButtons:function(t){const e=128/this.c.width,i=72/this.c.height;let s,n,h;for(let r=3;r>-1;--r){if(s=this.buttons[Object.keys(this.buttons)[r]],h=!1,0==t.length)return this.buttonsPressed.up=!1,this.buttonsPressed.down=!1,this.buttonsPressed.left=!1,this.buttonsPressed.right=!1,this.isPressed=!1,void this.resetIn();for(let r=t.length-1;r>-1;--r){if(n=t[r],n.x=Math.floor((t[r].pageX-this.c.left)*e)-4,n.y=Math.floor((t[r].pageY-this.c.top)*i)-4,n.width=4,n.height=4,n.x>100&&n.y>45&&1==t.length)return this.buttonsPressed.up=!1,this.buttonsPressed.down=!1,this.buttonsPressed.left=!1,this.buttonsPressed.right=!1,this.isPressed=!1,void this.resetIn();if(!(n.x>100&&n.y>45&&t.length>1)&&(d(n,this.joystick.out)&&(this.isPressed=!0),this.isPressed)){this.moveIn(n.x,n.y);let t={x:this.joystick.in.x,y:this.joystick.in.y,width:4,height:4};h=!!d(t,s)}}this.buttonsPressed[Object.keys(this.buttonsPressed)[r]]=h}},testButtons2:function(t){const e=128/this.c.width,i=72/this.c.height;let s;if(0!=t.length)for(let n=t.length-1;n>-1;--n){if(s=t[n],s.x=Math.floor((t[n].pageX-this.c.left)*e)-4,s.y=Math.floor((t[n].pageY-this.c.top)*i)-4,s.width=4,s.height=4,1==t.length&&this.isPressed)return void(this.buttonsPressed.space=!1);if(1==t.length&&s.x<100&&s.y<45)return void(this.buttonsPressed.space=!1);d(s,this.space)&&(this.buttonsPressed.space=!0)}else this.buttonsPressed.space=!1},testButtons3:function(t){const e=128/this.c.width,i=72/this.c.height;let s;for(let n=t.length-1;n>-1;--n)s=t[n],s.x=Math.floor((t[n].pageX-this.c.left)*e)-4,s.y=Math.floor((t[n].pageY-this.c.top)*i)-4,s.width=4,s.height=4,d(s,this.joystick.pause)&&this.buttonsPressed.enter>0?this.buttonsPressed.enter=0:d(s,this.joystick.pause)&&(this.buttonsPressed.enter=1)},moveIn:function(t,e){this.joystick.in.x=t,this.joystick.in.y=e,this.joystick.in.x>18&&(this.joystick.in.x=18),this.joystick.in.x<2&&(this.joystick.in.x=2),this.joystick.in.y>62&&(this.joystick.in.y=62),this.joystick.in.y<46&&(this.joystick.in.y=46)},resetIn:function(){this.joystick.in.x=10,this.joystick.in.y=54}};function m(){}m.GameArea=e,m.Animation=function(t,e,i){this.object=t,this.frames=e,this.fps=i,this.currentFrame=0,this.frameCount=0,this.animationCicleComplete=!0,this.animate=function(t=!0,e=!1){if(e&&!t)return;if(!t&&this.animationCicleComplete)return;if(this.animationCicleComplete=!1,this.frameCount++,this.frameCount<this.fps)return;this.frameCount=0;const i=Object.keys(this.object.images);this.object.currentImage=this.object.images[i[this.frames[this.currentFrame]]],this.currentFrame++,this.currentFrame>this.frames.length-1&&(this.currentFrame=0,this.animationCicleComplete=!0)}},m.Component=n,m.ImgComponent=s,m.SoundComponent=function(t,e=1,i=!1){this.sound=document.createElement("audio"),this.sound.src=t,this.sound.volume=e,this.sound.loop=i,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.isPlaying=!1,this.play=function(){this.sound.play(),this.isPlaying=!0},this.stop=function(){this.sound.pause(),this.isPlaying=!1},this.reset=function(){this.sound.pause(),this.sound.currentTime=0,this.isPlaying=!1}},m.Text=function(t){this.fontFace=new FontFace("Retro Gaming","url(assets/font/RetroGaming.ttf)"),this.ctx=t.canvas.getContext("2d"),this.fontFace.load().then((t=>{document.fonts.add(t),this.ctx.font="6px Retro Gaming"})),this.write=function(t,e,i,s,n,h){this.ctx.font=`${s} Retro Gaming`,this.ctx.textAlign=h,this.ctx.fillStyle=n,this.ctx.fillText(t,e,i)}},m.KeyboardControl=h,m.TouchControl=u,m.detectColision=d,m.HitBox=function(t,e,i,s,n){this.width=t,this.height=e,this.x=null,this.y=null,this.life=i,this.damage=s,this.isActive=!0,this.isMoving=!1,this.getCurrentPosition=function(t,e){this.isActive&&(this.x=t,this.y=e,this.isMoving=!0)},this.render=function(){const t=n.context;t.fillStyle="red",t.fillRect(this.x,this.y,this.width,this.height)}};const g=m,p={idle:"assets/img/other/cursor.png"},f=function(t){g.Component.call(this,g.GameArea.width,g.GameArea.height,t,0,0,"none",g.GameArea)},y={idle:"assets/img/background/sky.png"},w=function(){g.Component.call(this,g.GameArea.width,g.GameArea.height,y,0,0,"background",g.GameArea),this.render=function(){this.speedX=-.25,this.newPos(),this.update()}},x=function(t,e,i,s,n,h,r){g.Component.call(this,i,s,r,n,h,"image",g.GameArea),this.damage=t,this.life=t,this.speed=e,this.isMoving=!1,this.isDead=!1,this.render=function(){this.newPos(),this.update()},this.move=function(t){this.isMoving=!0,this.speedX="right"==t?this.speed:-this.speed},this.clearmove=function(){this.isMoving=!1,this.speedX=0,this.speedY=0}},v={frame1:"assets/img/attacks/laser.png"},b=function(t,e){x.call(this,2,3,5,1,t,e,v)},k="assets/img/effects/explosion/",A={e1:`${k}1.png`,e2:`${k}2.png`,e3:`${k}3.png`,e4:`${k}4.png`},P=function(){g.Component.call(this,12,12,A,0,0,"image",g.GameArea),this.animation=new g.Animation(this,[0,1,2,3],5),this.duration=20,this.actions=function(t,e){this.duration>0&&(this.getCurrentPosition(t,e),this.animation.animate(),this.render(),this.duration--)},this.getCurrentPosition=function(t,e){this.x=t,this.y=e},this.render=function(){this.newPos(),this.update()}},D={frame1:"assets/img/attacks/missile1.png",frame2:"assets/img/attacks/missile2.png",frame3:"assets/img/char/invisible.png"},C=function(t,e){x.call(this,2,.5,10,4,t,e,D),this.animation=new g.Animation(this,[0,1],5),this.deathExplosion=new P(this.x,this.y),this.deathSound=new g.SoundComponent("assets/sound/enemys/death.wav",.75),this.life=6,this.targetX=null,this.targetY=null,this.angle=0,this.directionX=0,this.directionY=0,this.render=function(){this.isDead?this.deathExplosion.actions(this.x+this.directionX,this.y+this.directionY):this.isDead||(this.animation.animate(!this.isDamaged,!0),this.newPos(),this.rotate(this.angle))},this.getCurrentTargetPosition=function(t){this.targetX=t.x,this.targetY=t.y,this.y+1>this.targetY&&this.y-1<this.targetY&&this.x>this.targetX?this.angle=0:this.angle=function(t,e,i,s){let n=s-e,h=i-t;return Math.atan2(n,h)}(this.targetX,this.targetY,this.x,this.y),this.y+1>this.targetY&&this.y-1<this.targetY?(this.speedY=0,this.directionY=-4):this.y>this.targetY?(this.speedY=-this.speed/2,this.directionY=-8):this.y<this.targetY&&(this.speedY=this.speed/2,this.directionY=0),this.x+1>this.targetX&&this.x-1<this.targetX?(this.speedX=0,this.directionX=0):this.x>this.targetX?(this.speedX=-this.speed,this.directionX=-5):this.x<this.targetX&&(this.speedX=this.speed,this.directionX=5)},this.move=function(){this.isMoving=!0},this.tookDamage=function(t){this.isDamaged||g.detectColision(this,t,"complex")&&!t.isDead&&(this.isDamaged=!0,t instanceof G?this.life=0:(t.life-=this.damage,this.life-=t.damage),t.life<=0&&(t.isDead=!0),this.life<=0&&(this.deathSound.play(),this.isDead=!0),this.currentImage=this.images.frame3,setTimeout((()=>{this.isDamaged=!1,this.currentImage=this.images.frame1}),100))}},S="assets/img/char/",E={idle:`${S}idle.png`,forward:`${S}forward.png`,backward:`${S}backward.png`,idleAttack:`${S}idleAttack.png`,forwardAttack:`${S}forwardAttack.png`,backwardAttack:`${S}backwardAttack.png`,damaged:`${S}damaged.png`,invisible:`${S}invisible.png`},G=function(){g.Component.call(this,7,7,E,21,21,"image",g.GameArea),this.speed=.5,this.life=8,this.damage=2,this.isAttacking=!1,this.isDamaged=!1,this.isMoving=!1,this.direction=null,this.isInvencible=!1,this.isDead=!1,this.bullets=[],this.bulletDelay=0,this.idleAttackAnimation=new g.Animation(this,[3,0],6),this.forwardAttackAnimation=new g.Animation(this,[4,1],6),this.backwardAttackAnimation=new g.Animation(this,[5,2],6),this.attackSound=new g.SoundComponent("assets/sound/char/attack.wav"),this.render=function(){this.currentImage==this.images.idle||this.currentImage==this.images.idleAttack?this.idleAttackAnimation.animate(this.isAttacking&&250==this.bulletDelay):this.currentImage==this.images.forward||this.currentImage==this.images.forwardAttack?this.forwardAttackAnimation.animate(this.isAttacking&&250==this.bulletDelay):this.currentImage!=this.images.backward&&this.currentImage!=this.images.backwardAttack||this.backwardAttackAnimation.animate(this.isAttacking&&250==this.bulletDelay),this.newPos(),this.isDamaged&&this.isInvencible?this.erase():this.update()},this.renderBullets=function(){this.bullets=this.bullets.filter((t=>!t.isDead));for(const t of this.bullets)t.x<g.GameArea.width?t.render():(t.isDead=!0,t.clearmove());this.bulletDelay>0&&(this.bulletDelay-=10)},this.attack=function(){if(0==this.bulletDelay){this.attackSound.play(),this.isAttacking=!0,this.bullets.push(new b(this.x+4,this.y+2,1));for(const t of this.bullets)t.move("right");this.bulletDelay=250,setTimeout((()=>this.attackSound.reset()),250)}},this.movement=function(t,e){let i=0;t.keysPressed.spacePressed||e.buttonsPressed.space?this.attack():this.isAttacking=!1,t.keysPressed.leftPressed||e.buttonsPressed.left?this.move("left"):i++,t.keysPressed.rightPressed||e.buttonsPressed.right?this.move("right"):i++,(t.keysPressed.upPressed||e.buttonsPressed.up)&&this.move("up"),(t.keysPressed.downPressed||e.buttonsPressed.down)&&this.move("down"),i>1&&(this.isMoving=!1)},this.tookDamage=function(t,e){let i="simple";if(t instanceof C&&(i="complex"),!this.isDamaged&&g.detectColision(this,t,i)&&t.isMoving&&!t.isDead){this.isDamaged=!0,this.life-=t.damage,e.changeImg(this.life),t instanceof C&&t.tookDamage(this),0==this.life&&(this.isDead=!0),setTimeout((()=>this.isDamaged=!1),2e3),setTimeout((()=>{clearInterval(i),clearInterval(s),this.isInvencible=!1}),2e3);const i=setInterval((()=>this.isInvencible=!1),100),s=setInterval((()=>this.isInvencible=!0),200)}},this.resurrect=function(t){this.x=21,this.y=21,this.life=8,this.isDead=!1,t.changeImg(this.life)},this.move=function(t){this.isMoving=!0,this.preventMoveOutScreen()&&("up"==t&&(this.speedY=-this.speed),"down"==t&&(this.speedY=this.speed),"left"==t&&(this.speedX=-this.speed),"right"==t&&(this.speedX=this.speed),this.speedX==-this.speed?this.currentImage!=this.images.backward&&this.currentImage!=this.images.backwardAttack&&(this.currentImage=this.images.backward):this.currentImage!=this.images.forward&&this.currentImage!=this.images.forwardAttack&&(this.currentImage=this.images.forward))},this.clearmove=function(){this.isMoving||0!=this.speedY||this.currentImage!=this.images.idle&&this.currentImage!=this.images.idleAttack&&(this.currentImage=this.images.idle),this.speedX=0,this.speedY=0},this.preventMoveOutScreen=function(){if(this.x<0)this.x=0;else if(this.x>g.GameArea.width-7)this.x=g.GameArea.width-7;else if(this.y<0)this.y=0;else{if(!(this.y>g.GameArea.height-15))return!0;this.y=g.GameArea.height-15}}},B={frame1:"assets/img/attacks/smallBullet.png"},I=function(t,e){x.call(this,2,1.5,2,1,t,e,B)},T={frame1:"assets/img/attacks/bigBullet.png"},M=function(t,e){x.call(this,2,1.5,4,3,t,e,T)},j="assets/img/enemy/superAirship/",W={idle:`${j}idle.png`,noUpWing:`${j}noUpWing.png`,noDownWing:`${j}noDownWing.png`,noWings:`${j}noWings.png`,noLasersNoWings:`${j}noLasersNoWings.png`,noLasersNoDownWing:`${j}noLasersNoDownWing.png`,noLasersNoUpWing:`${j}noLasersNoUpWing.png`,noLasers:`${j}noLasers.png`,invisible:"assets/img/char/invisible.png"},X=function(e,i){g.Component.call(this,32,32,W,e,i,"image",g.GameArea),this.speed=.5,this.life=128,this.damage=2,this.isDamaged=!1,this.isDead=!1,this.isMoving=!1,this.isActive=!1,this.isActive2=!1,this.direction="down",this.bullets=[],this.bulletDelay=0,this.cannonDirection="up",this.currentPhase=1,this.hitBox={upWing:new g.HitBox(16,8,16,2),cockpit:new g.HitBox(15,8,0,2),body:new g.HitBox(16,16,0,2),downWing:new g.HitBox(16,8,16,2)},this.deathExplosion=new P(this.x,this.y),this.deathSound=new g.SoundComponent("assets/sound/enemys/death.wav",.75),this.b=!0,this.a=!0,this.entry=function(){this.isMoving=!0,this.isActive2||(this.speedX=-this.speed),this.x==this.initialX&&(this.speedX=0,this.isActive2=!0)},this.render=function(){this.isDead?this.deathExplosion.actions(this.x,this.y):!this.isDead&&this.isActive&&(this.hitBox.upWing.getCurrentPosition(this.x+this.width-16,this.y),this.hitBox.body.getCurrentPosition(this.x+16,this.y+8),this.hitBox.cockpit.getCurrentPosition(this.x+1,this.y+12),this.hitBox.downWing.getCurrentPosition(this.x+this.width-16,this.y+24),this.newPos(),this.update())},this.move=function(t){1!=t&&0!=t?(this.isMoving=!0,this.speedY="up"==this.direction?-this.speed:this.speed,2==this.y&&(this.direction="down"),this.y==g.GameArea.height-41&&(this.direction="up")):this.speedY=0},this.behavior=async function(){this.isActive&&!this.isDead&&(this.a&&this.b&&await t(1e3),this.move(this.currentPhase),this.attack(this.currentPhase),1==this.currentPhase&&this.a&&(this.a=!1,this.b=!0,setTimeout((()=>{this.currentPhase=0,setTimeout((()=>this.currentPhase=2),2e3)}),3e3)),2==this.currentPhase&&this.b&&(this.b=!1,this.a=!0,setTimeout((()=>{this.currentPhase=0,setTimeout((()=>this.currentPhase=1),2e3)}),5e3)))},this.renderBullets=function(t){this.bullets=this.bullets.filter((t=>!t.isDead||t instanceof C&&t.deathExplosion.duration>0));for(const e of this.bullets)e.x>0?(e instanceof C&&e.getCurrentTargetPosition(t),e.render()):(e.isDead=!0,e.clearmove());this.bulletDelay>0&&(this.bulletDelay-=10)},this.attack=function(t){if(0==this.bulletDelay&&this.isActive){1==t&&this.attackPattern1(),2==t&&this.attackPattern2(),0==t&&this.attackPattern3();for(const t of this.bullets)t.move("left");1==t?this.bulletDelay=250:2==t?this.bulletDelay=120:0==t&&(this.bulletDelay=1500)}},this.attackPattern1=function(){this.hitBox.upWing.isActive&&(this.bullets.push(new I(this.x+16,this.y+1)),this.bullets.push(new I(this.x+16,this.y+5))),this.hitBox.downWing.isActive&&(this.bullets.push(new I(this.x+16,this.y+26)),this.bullets.push(new I(this.x+16,this.y+30))),"up"==this.cannonDirection?(this.bullets.push(new M(this.x-2,this.y+10)),this.cannonDirection="down"):"down"==this.cannonDirection&&(this.bullets.push(new M(this.x-2,this.y+19)),this.cannonDirection="up")},this.attackPattern2=function(){this.bullets.push(new M(this.x-2,this.y+10)),this.bullets.push(new M(this.x-2,this.y+19))},this.attackPattern3=function(){this.bullets.push(new C(this.x+16,this.y+14))},this.tookDamage=function(t){if(!this.isDamaged){let e=0;for(let i in this.hitBox)g.detectColision(this.hitBox[i],t)&&this.hitBox[i].isActive&&(this.hitBox[i].life-=t.damage,e++);e>0&&t.isMoving&&!t.isDead&&(this.isDamaged=!0,this.life-=t.damage,t.life-=this.damage,t.life<=0&&(t.isDead=!0),this.life<=0&&(this.deathSound.play(),this.isDead=!0),this.changeState(),this.currentImage=this.images.invisible,setTimeout((()=>{this.isDamaged=!1,this.changeState()}),100))}},this.changeState=function(){this.hitBox.upWing.life<=0&&this.hitBox.downWing.life<=0?(this.currentImage=this.images.noWings,this.hitBox.upWing.isActive=!1,this.hitBox.downWing.isActive=!1):this.hitBox.upWing.life<=0?(this.currentImage=this.images.noUpWing,this.hitBox.upWing.isActive=!1):this.hitBox.downWing.life<=0?(this.currentImage=this.images.noDownWing,this.hitBox.downWing.isActive=!1):this.currentImage=this.images.idle}},Y="assets/img/healthBar/",$={l8:`${Y}eight.png`,l6:`${Y}six.png`,l4:`${Y}four.png`,l2:`${Y}two.png`,l0:`${Y}zero.png`},L=function(){g.Component.call(this,6,17,$,1,1,"image",g.GameArea),this.render=function(){this.newPos(),this.update()},this.changeImg=function(t){this.currentImage=this.images["l"+t]}},O=function(t,e,i,s,n,h,r,a){g.Component.call(this,s,n,a,h,r,"image",g.GameArea),this.speed=t,this.life=e,this.damage=i,this.isDamaged=!1,this.isDead=!1,this.isMoving=!1,this.isActive=!1,this.direction="up",this.bullets=[],this.bulletDelay=0,this.deathExplosion=new P(this.x,this.y),this.deathSound=new g.SoundComponent("assets/sound/enemys/death.wav",1),this.entry=function(){this.isMoving=!0,this.isActive||(this.speedX=-this.speed),this.x==this.initialX&&(this.speedX=0,this.isActive=!0)},this.render=function(){this.isDead?this.deathExplosion.actions(this.x,this.y):this.isDead||(this.animation&&this.animation.animate(!this.isDamaged,!0),this.newPos(),this.update())},this.renderBullets=function(){this.bullets=this.bullets.filter((t=>!t.isDead));for(const t of this.bullets)t.x>0?t.render():(t.isDead=!0,t.clearmove());this.bulletDelay>0&&(this.bulletDelay-=10)},this.tookDamage=function(t){this.isDamaged||g.detectColision(this,t)&&t.isMoving&&!t.isDead&&(this.isDamaged=!0,this.life-=t.damage,t.life-=this.damage,t.life<=0&&(t.isDead=!0),this.life<=0&&(this.deathSound.play(),this.isDead=!0),this.currentImage=this.images.invisible,setTimeout((()=>{this.isDamaged=!1,this.currentImage=this.images.idle1}),100))}},H="assets/img/enemy/helicopter/",F={idle1:`${H}idle1.png`,idle2:`${H}idle2.png`,idle3:`${H}idle3.png`,invisible:"assets/img/char/invisible.png"},R=function(t,e){O.call(this,.5,8,2,12,7,t,e,F),this.animation=new g.Animation(this,[0,1,2,1],2),this.move=function(){this.isMoving=!0,this.speedY="up"==this.direction?-this.speed:this.speed,0==this.y&&(this.direction="down"),this.y==g.GameArea.height-15&&(this.direction="up")},this.attack=function(t,e){if(0==this.bulletDelay&&this.y+5>t&&this.y+5<e){this.bullets.push(new I(this.x,this.y+5));for(const t of this.bullets)t.move("left");this.bulletDelay=500}}},N={idle1:"assets/img/enemy/airship/idle.png",invisible:"assets/img/char/invisible.png"},U=function(t,e){O.call(this,1,6,2,8,8,t,e,N),this.attack=function(){if(0==this.bulletDelay){this.bullets.push(new I(this.x,this.y+2)),this.bullets.push(new I(this.x,this.y+5));for(const t of this.bullets)t.move("left");this.bulletDelay=250}},this.move=function(){this.isMoving=!0,this.speedX=-this.speed,this.x<0&&(this.x=g.GameArea.width)}},z=function(t){this.array=[],this.type=t,this.activeEnemies=0,this.deadEnemies=0,this.isAllEnemiesDead=!1,this.enemyEntry=!1,this.addEnemy=function(e,i){"Helicopter"==t?this.array.push(new R(e,i)):"Airship"==t&&this.array.push(new U(e,i))},this.activateEnemies=function(t,e,i=!0){i&&setTimeout((()=>this.activeEnemies=t),e)},this.renderAll=function(){for(let t=0;t<this.activeEnemies;t++)this.array[t].render(),this.array[t].renderBullets()},this.actions=function(t,e,i){for(let s=0;s<this.activeEnemies;s++)if(!this.array[s].isDead&&this.array[s].isActive){for(const e of t)this.array[s].tookDamage(e);this.array[s].move(),this.array[s].attack(e,i)}else if(!this.array[s].isActive&&!this.array[s].isDead){for(const e of t)this.array[s].tookDamage(e);this.array[s].entry()}this.countDeadEnemeys()},this.countDeadEnemeys=function(){let t=0;for(let e of this.array)e.isDead&&t++;this.deadEnemies=t,t==this.array.length?this.isAllEnemiesDead=!0:this.isAllEnemiesDead=!1},this.ressurectAllEnemys=function(){for(let t of this.array)t.resurrect()}},K=function(){this.waves=[],this.currentWave=0,this.start=function(){this.waves[this.currentWave]()}},Z=function(){this.waveList=new K,this.started=!1,this.paused=!1,this.loosed=!1,this.music=new g.SoundComponent("assets/sound/background/sky2.mp3",.25,!0),this.background=new w,this.healthBar=new L,this.char=new G,this.helicopters=new z("Helicopter"),this.airships=new z("Airship"),this.boss=new X(92,20),this.start=function(){if(t=1==g.KeyboardControl.keysPressed.enterPressed,e=1==g.TouchControl.buttonsPressed.enter,(t||e)&&(!t||!e))return this.paused=!0,void this.music.stop();var t,e;if(this.paused=!1,setTimeout((()=>this.music.play()),150),!this.started){this.init(),this.started=!0;for(let t=0;t<this.helicopters.array.length;t++)this.helicopters.array[t].x=128;for(let t=0;t<this.airships.array.length;t++)this.airships.array[t].x+=40;this.boss.x=128,setTimeout((()=>this.char.isActive=!0),500)}this.char.isDead?this.loosed=!0:(g.GameArea.clear(),this.charActions(),this.waveList.start(),this.renderAll())},this.renderAll=function(){this.background.render(),this.char.render(),this.char.renderBullets(),this.helicopters.renderAll(),this.airships.renderAll(),this.boss.render(),this.boss.renderBullets(this.char),this.healthBar.render()},this.init=function(){this.helicopters.addEnemy(90,10),this.helicopters.addEnemy(90,30),this.helicopters.addEnemy(100,20),this.helicopters.addEnemy(110,10),this.helicopters.addEnemy(70,50),this.helicopters.addEnemy(80,40),this.helicopters.addEnemy(90,30),this.helicopters.addEnemy(100,20),this.helicopters.addEnemy(110,10),this.airships.addEnemy(110,30),this.airships.addEnemy(110,20),this.airships.addEnemy(100,30),this.airships.addEnemy(110,40),this.airships.addEnemy(110,10),this.airships.addEnemy(100,20),this.airships.addEnemy(90,30),this.airships.addEnemy(100,40),this.airships.addEnemy(110,50),this.waveList.waves.push(this.waves.wave1),this.waveList.waves.push(this.waves.wave2),this.waveList.waves.push(this.waves.wave3)},this.charActions=function(){if(this.char.isActive){this.char.clearmove(),this.char.movement(g.KeyboardControl,g.TouchControl);for(let t=0;t<this.helicopters.array.length;t++){this.helicopters.array[t].isDead||this.char.tookDamage(this.helicopters.array[t],this.healthBar);for(const e of this.helicopters.array[t].bullets)this.char.tookDamage(e,this.healthBar)}for(let t=0;t<this.airships.array.length;t++){this.airships.array[t].isDead||this.char.tookDamage(this.airships.array[t],this.healthBar);for(const e of this.airships.array[t].bullets)this.char.tookDamage(e,this.healthBar)}this.boss.isDead||(this.char.tookDamage(this.boss.hitBox.upWing,this.healthBar),this.char.tookDamage(this.boss.hitBox.cockpit,this.healthBar),this.char.tookDamage(this.boss.hitBox.body,this.healthBar),this.char.tookDamage(this.boss.hitBox.downWing,this.healthBar));for(const t of this.boss.bullets)this.char.tookDamage(t,this.healthBar)}},this.waves={wave1:()=>{this.helicopters.activateEnemies(1,5e3,0==this.helicopters.deadEnemies),this.helicopters.activateEnemies(4,5e3,1==this.helicopters.deadEnemies),this.helicopters.activateEnemies(9,5e3,4==this.helicopters.deadEnemies),this.helicopters.actions(this.char.bullets,this.char.y,this.char.y+this.char.height),this.helicopters.isAllEnemiesDead&&(this.waveList.currentWave=1)},wave2:()=>{this.airships.activateEnemies(1,5e3,0==this.airships.deadEnemies),this.airships.activateEnemies(4,5e3,1==this.airships.deadEnemies),this.airships.activateEnemies(9,5e3,4==this.airships.deadEnemies),this.airships.actions(this.char.bullets),this.airships.isAllEnemiesDead&&(this.waveList.currentWave=2)},wave3:()=>{setTimeout((()=>this.boss.isActive=!0),5e3);for(let t of this.char.bullets){this.boss.tookDamage(t);for(let e of this.boss.bullets)e instanceof C&&e.tookDamage(t)}this.boss.isActive2?this.boss.behavior(this.char.x,this.char.y):this.boss.entry()}}},q={currentScreen:"title",screens:{title:new function(){f.call(this,"#332c50"),this.content=new g.Text(g.GameArea),this.music=new g.SoundComponent("assets/sound/UI/mixkit-techno-fights-171.mp3",.35,!0),this.render=function(){this.music.play(),this.update(),this.write()},this.write=function(){this.content.write("SPACE SQUID",g.GameArea.width/2,20,"12px","#94e344","center"),this.content.write("Start",g.GameArea.width/2,38,"5px","#e2f3e4","center"),this.content.write("Options",g.GameArea.width/2,48,"5px","#e2f3e4","center"),this.content.write("Credits",g.GameArea.width/2,58,"5px","#e2f3e4","center"),this.content.write("Â© Augusto Ravazoli, 2022",g.GameArea.width/2,70,"2px","#e2f3e4","center"),this.content.write("v0.1.0",g.GameArea.width-10,70,"2px","#e2f3e4","center")}},gameOver:new function(){f.call(this,"#332c50"),this.content=new g.Text(g.GameArea),this.render=function(){this.update(),this.write()},this.write=function(){this.content.write("Game Over",g.GameArea.width/2,25,"12px","#e2f3e4","center"),this.content.write("Restart",g.GameArea.width/2,45,"6px","#e2f3e4","center")}},options:new function(){f.call(this,"#332c50"),this.content=new g.Text(g.GameArea),this.soundState="on",this.musicState="on",this.toggleState=function(t){"music"==t.choice&&(this.musicState="on"==this.musicState?"off":"on"),"sound"==t.choice&&(this.soundState="on"==this.soundState?"off":"on")},this.render=function(t){this.toggleState(t),this.update(),this.write()},this.write=function(){this.content.write("Options",g.GameArea.width/2,15,"10px","#e2f3e4","center"),this.content.write("Back",18,7,"5px","#e2f3e4","center"),this.content.write("Music",g.GameArea.width/3,30,"4px","#e2f3e4","center"),this.content.write("Sound",g.GameArea.width/3,40,"4px","#e2f3e4","center"),this.content.write("Controls",g.GameArea.width/3,50,"4px","#e2f3e4","center"),"on"==this.soundState?this.content.write("ON",g.GameArea.width-45,30,"4px","#94e344","center"):this.content.write("OFF",g.GameArea.width-45,30,"4px","#e2f3e4","center"),"on"==this.musicState?this.content.write("ON",g.GameArea.width-45,40,"4px","#94e344","center"):this.content.write("OFF",g.GameArea.width-45,40,"4px","#e2f3e4","center"),this.content.write("Default",g.GameArea.width-45,50,"4px","#e2f3e4","center")}},controls:new function(){f.call(this,"#332c50"),this.content=new g.Text(g.GameArea),this.render=async function(){this.update(),this.write()},this.write=function(){this.content.write("Controls",g.GameArea.width/2,15,"10px","#e2f3e4","center"),this.content.write("Back",18,7,"5px","#e2f3e4","center"),this.content.write("Up",g.GameArea.width/3,30,"4px","#e2f3e4","center"),this.content.write("Down",g.GameArea.width/3,36,"4px","#e2f3e4","center"),this.content.write("Left",g.GameArea.width/3,42,"4px","#e2f3e4","center"),this.content.write("Right",g.GameArea.width/3,48,"4px","#e2f3e4","center"),this.content.write("Shot",g.GameArea.width/3,54,"4px","#e2f3e4","center"),this.content.write("Pause",g.GameArea.width/3,60,"4px","#e2f3e4","center"),this.content.write("W",g.GameArea.width-45,30,"4px","#e2f3e4","center"),this.content.write("S",g.GameArea.width-45,36,"4px","#e2f3e4","center"),this.content.write("A",g.GameArea.width-45,42,"4px","#e2f3e4","center"),this.content.write("D",g.GameArea.width-45,48,"4px","#e2f3e4","center"),this.content.write("J",g.GameArea.width-45,54,"4px","#e2f3e4","center"),this.content.write("ENTER",g.GameArea.width-45,60,"4px","#e2f3e4","center")}},credits:new function(){f.call(this,"#332c50"),this.content=new g.Text(g.GameArea),this.render=async function(){this.update(),this.write()},this.write=function(){this.content.write("Credits",g.GameArea.width/2,15,"10px","#e2f3e4","center"),this.content.write("Back",18,7,"5px","#e2f3e4","center"),this.content.write("Design, Art, Sound and Programming",g.GameArea.width/2,26,"3px","#94e344","center"),this.content.write("Augusto Ravazoli",g.GameArea.width/2,30,"3px","#e2f3e4","center"),this.content.write("Font",g.GameArea.width/2,39,"3px","#94e344","center"),this.content.write("Daymarius",g.GameArea.width/2,43,"3px","#e2f3e4","center"),this.content.write("Music",g.GameArea.width/2,52,"3px","#94e344","center"),this.content.write("Mixkit",g.GameArea.width/2,56,"3px","#e2f3e4","center"),this.content.write("Palette",g.GameArea.width/2,65,"3px","#94e344","center"),this.content.write("Kirokaze",g.GameArea.width/2,69,"3px","#e2f3e4","center")}},game:[new Z],pause:new function(){f.call(this,"transparent"),this.content=new g.Text(g.GameArea),this.render=function(){this.update(),this.write()},this.write=function(){this.content.write("Paused",64,36,"5px","#46878f","center")}}},cursor:new function(t,e="title"){g.Component.call(this,6,4,p,42,34,"image",g.GameArea),this.delay=!1,this.choice="none",this.screens=t,this.currentScreen=e,this.index=0,this.state=0,this.render=function(){this.newPos(),this.update()},this.changeScreen=function(t){this.currentScreen!=t&&(this.currentScreen=t,this.index=0,this.x=this.screens[this.currentScreen].positions[0].x,this.y=this.screens[this.currentScreen].positions[0].y)},this.movement=function(t,e){(t.keysPressed.upPressed||e.buttonsPressed.up)&&this.move("up"),(t.keysPressed.downPressed||e.buttonsPressed.down)&&this.move("down"),t.keysPressed.spacePressed||e.buttonsPressed.space?(this.select(),this.state++):this.state>1&&(this.state=0)},this.move=function(t){this.delay||("down"==t&&(this.index<this.screens[this.currentScreen].positions.length-1&&this.index++,this.x=this.screens[this.currentScreen].positions[this.index].x,this.y=this.screens[this.currentScreen].positions[this.index].y),"up"==t&&(this.index>0&&this.index--,this.x=this.screens[this.currentScreen].positions[this.index].x,this.y=this.screens[this.currentScreen].positions[this.index].y),this.delay=!0,setTimeout((()=>{this.delay=!1}),150))},this.select=function(){1==this.state?this.choice=this.screens[this.currentScreen].choices[this.index]:this.choice="none"}}({title:{choices:["start","options","credits"],positions:[{x:42,y:34},{x:42,y:44},{x:42,y:54}]},options:{choices:["back","sound","music","controls"],positions:[{x:3,y:3},{x:64,y:26},{x:64,y:36},{x:64,y:46}]},controls:{choices:["back"],positions:[{x:3,y:3}]},credits:{choices:["back"],positions:[{x:3,y:3}]},gameOver:{choices:["restart"],positions:[{x:40,y:41}]}}),render:function(){"game"==this.currentScreen?(this.screens.title.music.stop(),this.screens.game[0].start(),this.screens.game[0].paused&&this.screens.pause.render()):("title"==this.currentScreen&&this.screens[this.currentScreen].music.play(),this.screens[this.currentScreen].render(this.cursor),this.cursor.changeScreen(this.currentScreen),this.cursor.render(),this.cursor.movement(g.KeyboardControl,g.TouchControl,this.currentScreen)),g.TouchControl.renderButtons(this.screens.game[0].paused)},transition:function(){"title"==this.currentScreen&&("start"==this.cursor.choice?this.currentScreen="game":"options"==this.cursor.choice?this.currentScreen="options":"credits"==this.cursor.choice&&(this.currentScreen="credits")),"options"==this.currentScreen&&("back"==this.cursor.choice?this.currentScreen="title":"controls"==this.cursor.choice&&(this.currentScreen="controls")),"credits"==this.currentScreen&&"back"==this.cursor.choice&&(this.currentScreen="title"),"controls"==this.currentScreen&&"back"==this.cursor.choice&&(this.currentScreen="options"),this.screens.game[0].loosed&&(this.currentScreen="gameOver"),"gameOver"==this.currentScreen&&(this.screens.game[0].music.stop(),"restart"==this.cursor.choice&&(this.screens.game[0]=new Z,this.currentScreen="game",this.cursor.choice="none"))}};var _=i(379),J=i.n(_),Q=i(795),V=i.n(Q),tt=i(569),et=i.n(tt),it=i(565),st=i.n(it),nt=i(216),ht=i.n(nt),rt=i(589),at=i.n(rt),ot=i(426),ct={};ct.styleTagTransform=at(),ct.setAttributes=st(),ct.insert=et().bind(null,"head"),ct.domAPI=V(),ct.insertStyleElement=ht(),J()(ot.Z,ct),ot.Z&&ot.Z.locals&&ot.Z.locals;const dt=[new Z];function lt(){q.transition(dt[0]),q.render(dt[0]),requestAnimationFrame(lt)}document.getElementById("game").addEventListener("click",(()=>{document.fullscreenElement&&"CANVAS"==document.fullscreenElement.nodeName||(document.getElementById("game").style.display="none",g.GameArea.init(),g.KeyboardControl.initEvents(),g.TouchControl.initEvents(),lt())}))})()})();